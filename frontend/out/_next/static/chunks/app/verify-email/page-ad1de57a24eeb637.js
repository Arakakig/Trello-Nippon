(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{1385:function(e,t,r){Promise.resolve().then(r.bind(r,684))},684:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(7437),s=r(2265),o=r(4033),n=r(8222),c=r(1396),i=r.n(c);function l(){let e=(0,o.useRouter)(),t=(0,o.useSearchParams)(),[r,c]=(0,s.useState)("loading"),[l,d]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{let r=t.get("token");if("true"===sessionStorage.getItem("emailVerified")){c("success"),d("Email j\xe1 foi verificado com sucesso!"),setTimeout(()=>{e.push("/login")},2e3);return}if(!r){c("error"),d("Token de verifica\xe7\xe3o n\xe3o encontrado");return}try{let t=await n.iJ.verifyEmail(r);c("success"),d(t.data.message),sessionStorage.setItem("emailVerified","true"),setTimeout(()=>{sessionStorage.removeItem("emailVerified"),e.push("/login")},3e3)}catch(t){var a,s,o,i;c("error");let e=(null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Erro ao verificar email";(null===(i=t.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.expired)?d(e+' Fa\xe7a login e clique em "Reenviar email de verifica\xe7\xe3o".'):d(e)}})()},[t,e]),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:["loading"===r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verificando seu email..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"Por favor, aguarde."})]}),"success"===r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("svg",{className:"w-16 h-16 text-green-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"✅ Email Verificado!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecionando para o login..."}),(0,a.jsx)(i(),{href:"/login",className:"inline-block mt-4 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Ir para Login"})]}),"error"===r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("svg",{className:"w-16 h-16 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"❌ Erro na Verifica\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i(),{href:"/login",className:"block px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Ir para Login"}),(0,a.jsx)(i(),{href:"/register",className:"block px-6 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Criar Nova Conta"})]})]})]})})}},8222:function(e,t,r){"use strict";r.d(t,{HF:function(){return l},iJ:function(){return n},lC:function(){return i},qx:function(){return c}});var a=r(4829);let s="https://trello-nippon.onrender.com/api",o=a.Z.create({baseURL:s,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});let n={register:e=>o.post("/auth/register",e),login:e=>o.post("/auth/login",e),getMe:()=>o.get("/auth/me"),getUsers:()=>o.get("/auth/users"),getUserByEmail:e=>o.get("/auth/users/by-email/".concat(e)),verifyEmail:e=>o.get("/auth/verify-email?token=".concat(e)),resendVerification:()=>o.post("/auth/resend-verification")},c={getAll:e=>o.get("/projects",{params:{includeArchived:e}}),getById:e=>o.get("/projects/".concat(e)),create:e=>o.post("/projects",e),update:(e,t)=>o.put("/projects/".concat(e),t),delete:e=>o.delete("/projects/".concat(e)),addMember:(e,t,r)=>o.post("/projects/".concat(e,"/members"),{userId:t,role:r}),removeMember:(e,t)=>o.delete("/projects/".concat(e,"/members/").concat(t)),updateMemberRole:(e,t,r)=>o.put("/projects/".concat(e,"/members/").concat(t),{role:r}),createDefault:()=>o.post("/projects/create-default")},i={getAll:e=>o.get("/tasks",{params:{projectId:e}}),getById:e=>o.get("/tasks/".concat(e)),create:e=>o.post("/tasks",e),update:(e,t)=>o.put("/tasks/".concat(e),t),delete:e=>o.delete("/tasks/".concat(e)),reorder:e=>o.post("/tasks/reorder",{tasks:e}),uploadAttachment:(e,t)=>{let r=new FormData;return r.append("file",t),o.post("/tasks/".concat(e,"/attachments"),r,{headers:{"Content-Type":"multipart/form-data"}})},deleteAttachment:(e,t)=>o.delete("/tasks/".concat(e,"/attachments/").concat(t)),downloadAttachment:(e,t)=>"".concat(s,"/tasks/").concat(e,"/attachments/").concat(t,"/download")},l={getByTask:e=>o.get("/comments/task/".concat(e)),create:e=>o.post("/comments",e),update:(e,t)=>o.put("/comments/".concat(e),t),delete:e=>o.delete("/comments/".concat(e))}}},function(e){e.O(0,[600,396,971,938,744],function(){return e(e.s=1385)}),_N_E=e.O()}]);